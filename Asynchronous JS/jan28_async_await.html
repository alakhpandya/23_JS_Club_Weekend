<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    /*
    async function(){
        try {
            await
        } 
        catch (error) {
            
        }
        finally{

        }
    }
    */
    let is_open = true;
    // let is_open = false;

    /*
    let oven = () => {
        return new Promise((resolve, reject) => {
            if(is_open){
                setTimeout(() => {
                    resolve(console.log("Dish is grilled..."))
                }, 3000);
            }
            else{
                reject("Shop is closed.");
            }
        })
    }
    async function kitchen(){
        try{
            console.log("Task A");
            console.log("Task B");
            await oven();
            console.log("Task D");
            console.log("Task E");
        }
        catch(e){
            console.log(e);
        }
    }

    kitchen();
    console.log("Close the shutter");
    console.log("Do the accounting");
    console.log("Wash the dishes");
    */

    let order = (time, work) => {
        return new Promise((resolve, reject) => {
            if (is_open){
                setTimeout(() => {
                    resolve(work());
                }, time)
            }
            else{
                reject("Sorry, our shop is closed.");
            }
        });
    }

    async function cooking(){
        try{
            await order(2000, () => console.log("Order of Veg maggie recieved, cooking started..."));
            await order(4000, () => console.log("Vegetables are chopped..."));
            await order(1000, () => console.log("masala, water, noodles and vegetables are added to the bowl..."));
            // is_open = false;
            await order(3000, () => console.log("Boiling completed..."));
            await order(1000, () => console.log("Bowl Taken."));
            await order(4000, () => console.log("Noodles are prepared."));
            await order(1000, () => console.log("Here is your order!"));
        }
        catch(e){
            console.log(e);
        }
        finally{
            console.log("Thanks for considering us, please visit again!");
        }
    }

    order(0, () => console.log("Receiving order..."));
    cooking();
</script>
</html>